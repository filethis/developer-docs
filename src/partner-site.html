<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../bower_components/marked-element/marked-element.html">
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/prism-element/prism-highlighter.html">
<link rel="import" href="../bower_components/ft-error-behavior/ft-error-behavior.html">
<link rel="import" href="../bower_components/ft-http-behavior/ft-http-behavior.html">

<!--
`partner-site`
An element that defines the top-level of the FileThis partner developer site.

This is a private project and GitHub repository.
-->
<dom-module id="partner-site">

    <template>

        <style include="iron-flex iron-flex-alignment iron-positioning"></style>

        <style>
            :host {
                display:block;
            }
        </style>

        <prism-highlighter></prism-highlighter>

        <marked-element markdown="{{_landingText}}">
            <div class="markdown-html"></div>
        </marked-element>

    </template>

    <script>
        Polymer({

            is: 'partner-site',

            behaviors: [FileThis.ErrorBehavior, FileThis.HttpBehavior],

            properties:
            {
                _landingText:
                {
                    type: String,
                    value: "Placeholder"
                }
            },

            ready: function()
            {
                var options = { responseType: "text" };
                this.httpGet("./src/landing-page.md", options)
                    .then(function(text)
                    {
                        this._landingText = text;
                    }.bind(this));
            }

        });

    </script>
</dom-module>
